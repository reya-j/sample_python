language: python

python:
  - 3.4

env:
  global:
    - FOO=FUBU

  matrix:
    - M1=ONE
 
build: 
  pre_ci:
    - docker build -t=shiphitchcock4/hitchcock4_sample_nodenewimage1:test .
 
#  pre_ci:
 #   - docker build -t=shippabledocker/hitchcock2_sample_python .

 # pre_ci_boot:
  #  image_name: shippabledocker/hitchcock2_sample_python
  #  image_tag: latest
  #  pull: false
  #  options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al
    - sleep 3m

 # post_ci:
  #  - docker push shippabledocker/hitchcock2_sample_python


integrations:    
  notifications:
    - integrationName: notify-slack 
      type: slack
      recipients:
        - "#random" 
        - "#rc-public" 
        - "#rc-private"
      on_start: always
      on_success: always
      on_failure: always 
      on_cancel: always
       
    - integrationName: email         
      type: email        
      recipients:  
        - shiptest.rc.ow@gmail.com
        - shiptest.rc.me@gmail.com
     # sendConsoleLogs : true
     # sendCoverageReports : true
      on_start: always
      on_success: always 
      on_failure: always 
      on_cancel: always
      
      
    - integrationName: irc
      type: irc
      recipients:
        - "chat.freenode.net#test-rc"
        - "chat.freenode.net#test-alpha"
      on_start: always
      on_success: always      
      on_failure: always  
      on_cancel: always
     
    - integrationName: irc  
      type: irc
      recipients:
        - "webchat.irchighway.net#irc-three"
        - "webchat.irchighway.net#test-rc"
      on_start: always
      on_success: always      
      on_failure: always 
      on_cancel: always
    
    - integrationName: notify-hipchat
      type: hipchat
      recipients: 
        - '#rc-private'
        - '#rc-public'
        - '@shiptestrcow'
      on_start: always
      on_success: always   
      on_failure: always
      on_cancel: always
      
  hub:
    - integrationName: ship4-docker
      type: docker
      branches: 
        only:
          - master 
